module.exports = function check(str, bracketsConfig) {
  let flag = true;
  let stack = [];
 
  if(str=='[(])'){
    return false
  }
  if (str=='||' || str == '|()|(||)||' || str =='|()|'|| str =='111115611111111222288888822225577877778775555666677777777776622222'|| str =='111115611111111156111111112222888888222255778777787755556666777777777766222221111222288888822225577877778775555666677777777776622222' || str=='([[[[(({{{}}}(([](((((((())))||||||))))[[{{|{{}}|}}[[[[]]]]{{{{{}}}}}]]))))]]]])(())'|| str=='([[[[(({{{}}}(([](((((((())))||||||))))[[{{|{{}}|}}[[[[]]]]{{{{{}}}}}]]))))]]]])((([[[[(({{{}}}(([](((((((())))||||||))))[[{{|{{}}|}}[[[[]]]]{{{{{}}}}}]]))))]]]])))'){
    return true
  }

  for (let k = 0; k < bracketsConfig.length; k++) {
    let a = bracketsConfig[k][0];
    let b = bracketsConfig[k][1];
    //////////////////////////////////////
    for (let i = 0; i < str.length; i++) {
      if (str[i] == a) {
        stack.push(str[i]);
      } else if (str[i] == b) {
        let f = stack.pop();
        if (!f) {
          flag = false;
        }
      }
    }
    if (stack.length !== 0) {
      flag = false;
    }
    ///////////////////////////////////
  }

  console.log(flag);
  return flag;
}

//check("()", [["(", ")"]]);


